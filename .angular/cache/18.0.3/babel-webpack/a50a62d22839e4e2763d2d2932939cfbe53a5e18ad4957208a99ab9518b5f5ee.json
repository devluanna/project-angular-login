{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { CommonModule } from '@angular/common';\nimport { Component, Input, EventEmitter, Output } from '@angular/core';\nimport { InputComponent } from '../../components/input/input.component';\nimport { FormControl, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { RecoveryPasswordService } from 'src/app/services/recovery-password';\nimport { ModalDefaultComponent } from '../../components/modal-default/modal-default.component';\nimport { EmailSuccessfullySentModal } from './email-successfully-sent-modal/email-successfully-sent-modal';\nlet ModalRecoveryPasswordComponent = class ModalRecoveryPasswordComponent {\n  constructor(router, recoveryPasswordService, toastService) {\n    this.router = router;\n    this.recoveryPasswordService = recoveryPasswordService;\n    this.toastService = toastService;\n    this.isModalOpen = false;\n    this.registeredEmail = '';\n    this.isOpen = false;\n    this.onCloseModal = new EventEmitter();\n    this.recoveryPasswordForm = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email])\n    });\n  }\n  submit() {\n    this.recoveryPasswordService.recoveryPassword(this.recoveryPasswordForm.value.email).subscribe({\n      next: () => {\n        this.toastService.success(\"Email successfully sent!!\");\n        this.isModalOpen = true;\n        this.registeredEmail = this.recoveryPasswordForm.value.email;\n      },\n      error: () => this.toastService.error(\"Unexpected error! Try again later\")\n    });\n  }\n  closeModal() {\n    this.onCloseModal.emit();\n  }\n};\n__decorate([Input()], ModalRecoveryPasswordComponent.prototype, \"isOpen\", void 0);\n__decorate([Output()], ModalRecoveryPasswordComponent.prototype, \"onCloseModal\", void 0);\nModalRecoveryPasswordComponent = __decorate([Component({\n  selector: 'app-modal-recovery-password',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, InputComponent, ModalDefaultComponent, EmailSuccessfullySentModal],\n  providers: [RecoveryPasswordService],\n  templateUrl: './modal-recovery-password.component.html',\n  styleUrl: './modal-recovery-password.component.scss'\n})], ModalRecoveryPasswordComponent);\nexport { ModalRecoveryPasswordComponent };","map":{"version":3,"names":["CommonModule","Component","Input","EventEmitter","Output","InputComponent","FormControl","FormGroup","ReactiveFormsModule","Validators","RecoveryPasswordService","ModalDefaultComponent","EmailSuccessfullySentModal","ModalRecoveryPasswordComponent","constructor","router","recoveryPasswordService","toastService","isModalOpen","registeredEmail","isOpen","onCloseModal","recoveryPasswordForm","email","required","submit","recoveryPassword","value","subscribe","next","success","error","closeModal","emit","__decorate","selector","standalone","imports","providers","templateUrl","styleUrl"],"sources":["C:\\Users\\luana\\OneDrive\\√Årea de Trabalho\\Lua\\project-angular-login\\project-angular-login\\src\\app\\pages\\recovery-password\\modal-recovery-password.component.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { Component, Input, EventEmitter, Output  } from '@angular/core';\r\nimport { InputComponent } from '../../components/input/input.component';\r\nimport { FormControl, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { RecoveryPasswordService } from 'src/app/services/recovery-password';\r\nimport { ModalDefaultComponent } from '../../components/modal-default/modal-default.component';\r\nimport { EmailSuccessfullySentModal } from './email-successfully-sent-modal/email-successfully-sent-modal';\r\n\r\ninterface RecoveryPasswordForm {\r\n  email: FormControl,\r\n}\r\n\r\n@Component({\r\n  selector: 'app-modal-recovery-password',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule, InputComponent, ModalDefaultComponent, EmailSuccessfullySentModal],\r\n  providers:[\r\n    RecoveryPasswordService\r\n  ],\r\n  templateUrl: './modal-recovery-password.component.html',\r\n  styleUrl: './modal-recovery-password.component.scss'\r\n})\r\nexport class ModalRecoveryPasswordComponent {\r\n  recoveryPasswordForm!: FormGroup<RecoveryPasswordForm>;\r\n  isModalOpen: boolean = false;\r\n  registeredEmail: string = '';\r\n\r\n  @Input() isOpen: boolean = false;\r\n  @Output() onCloseModal = new EventEmitter<void>();\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private recoveryPasswordService: RecoveryPasswordService,\r\n    private toastService: ToastrService\r\n  ) {\r\n    this.recoveryPasswordForm = new FormGroup({\r\n      email: new FormControl('', [Validators.required, Validators.email]),\r\n    });\r\n  }\r\n\r\n  submit(){\r\n    this.recoveryPasswordService\r\n      .recoveryPassword(this.recoveryPasswordForm.value.email).subscribe({\r\n      next: () => {\r\n        this.toastService.success(\"Email successfully sent!!\");\r\n        this.isModalOpen = true;\r\n        this.registeredEmail = this.recoveryPasswordForm.value.email;\r\n      },\r\n      error: () => this.toastService.error(\"Unexpected error! Try again later\")\r\n    })\r\n  }\r\n\r\n  closeModal() {\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n\r\n}\r\n"],"mappings":";AAAA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,SAAS,EAAEC,KAAK,EAAEC,YAAY,EAAEC,MAAM,QAAS,eAAe;AACvE,SAASC,cAAc,QAAQ,wCAAwC;AACvE,SAASC,WAAW,EAAEC,SAAS,EAAEC,mBAAmB,EAAEC,UAAU,QAAQ,gBAAgB;AAGxF,SAASC,uBAAuB,QAAQ,oCAAoC;AAC5E,SAASC,qBAAqB,QAAQ,wDAAwD;AAC9F,SAASC,0BAA0B,QAAQ,+DAA+D;AAgBnG,IAAMC,8BAA8B,GAApC,MAAMA,8BAA8B;EAQzCC,YACUC,MAAc,EACdC,uBAAgD,EAChDC,YAA2B;IAF3B,KAAAF,MAAM,GAANA,MAAM;IACN,KAAAC,uBAAuB,GAAvBA,uBAAuB;IACvB,KAAAC,YAAY,GAAZA,YAAY;IATtB,KAAAC,WAAW,GAAY,KAAK;IAC5B,KAAAC,eAAe,GAAW,EAAE;IAEnB,KAAAC,MAAM,GAAY,KAAK;IACtB,KAAAC,YAAY,GAAG,IAAIlB,YAAY,EAAQ;IAO/C,IAAI,CAACmB,oBAAoB,GAAG,IAAIf,SAAS,CAAC;MACxCgB,KAAK,EAAE,IAAIjB,WAAW,CAAC,EAAE,EAAE,CAACG,UAAU,CAACe,QAAQ,EAAEf,UAAU,CAACc,KAAK,CAAC;KACnE,CAAC;EACJ;EAEAE,MAAMA,CAAA;IACJ,IAAI,CAACT,uBAAuB,CACzBU,gBAAgB,CAAC,IAAI,CAACJ,oBAAoB,CAACK,KAAK,CAACJ,KAAK,CAAC,CAACK,SAAS,CAAC;MACnEC,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACZ,YAAY,CAACa,OAAO,CAAC,2BAA2B,CAAC;QACtD,IAAI,CAACZ,WAAW,GAAG,IAAI;QACvB,IAAI,CAACC,eAAe,GAAG,IAAI,CAACG,oBAAoB,CAACK,KAAK,CAACJ,KAAK;MAC9D,CAAC;MACDQ,KAAK,EAAEA,CAAA,KAAM,IAAI,CAACd,YAAY,CAACc,KAAK,CAAC,mCAAmC;KACzE,CAAC;EACJ;EAEAC,UAAUA,CAAA;IACR,IAAI,CAACX,YAAY,CAACY,IAAI,EAAE;EAC1B;CAGD;AA9BUC,UAAA,EAARhC,KAAK,EAAE,C,6DAAyB;AACvBgC,UAAA,EAAT9B,MAAM,EAAE,C,mEAAyC;AANvCS,8BAA8B,GAAAqB,UAAA,EAV1CjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,6BAA6B;EACvCC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACrC,YAAY,EAAEQ,mBAAmB,EAAEH,cAAc,EAAEM,qBAAqB,EAAEC,0BAA0B,CAAC;EAC/G0B,SAAS,EAAC,CACR5B,uBAAuB,CACxB;EACD6B,WAAW,EAAE,0CAA0C;EACvDC,QAAQ,EAAE;CACX,CAAC,C,EACW3B,8BAA8B,CAmC1C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}